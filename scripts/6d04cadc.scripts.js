(function(){"use strict";angular.module("PathwaysApp",["ngCookies","ngResource","ngSanitize","leaflet-directive","ngGeolocation","streetCrimveService"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("streetCrimveService",["ngResource"]).factory("StreetCrime",["$resource",function(a){return a("crime.json")}])}.call(this),function(){"use strict";angular.module("PathwaysApp").controller("MainCtrl",["$scope","geolocation","StreetCrime",function(a,b,c){var d;return angular.extend(a,{markers:{},center:{lat:51.563296,lng:-.107435,zoom:15},defaults:{maxZoom:16}}),d=c.query(function(b){var c,d,e,f;for(d={},e=0,f=b.length;f>e;e++)c=b[e],(c.category="violent-crime")&&(d[c.id]={lat:Number(c.location.latitude),lng:Number(c.location.longitude),message:"Violent crime "+c.location.street.name+"<br /><strong>Outcome:</strong>"+c.outcome_status.category,focus:!1,draggable:!1});return console.log(d),angular.extend(a,{markers:d})}),a.position=b.position(),a.position.then(function(b){var c;return c={lat:b.coords.latitude,lng:b.coords.longitude},console.log("Detected location as:",c),angular.extend(a,{center:c}),c},function(a){return console.log("Could not determine your location:",a)})}])}.call(this);